#summary How to register a new document type for BungeniEditor
#labels BungeniEditorClient

= Introduction =

The BungeniEditor supports multiple document types.  Additional document types can be added by adding configuration entries into the editor's settings database.
The following steps describe the config entries required to register a new document type in the editor.

== Create the template for the document type == 

The templates for the different document types are stored under the workspace/templates folder.

Create a template for the new document type (you can modify and renmae the templates for the hansard or bill). The root section of the document must be renamed to the name of the document type. e.g. the root section of the bill document type is called 'bill' ; for the debaterecord document type it is called 'debaterecord'


== Create a Metadata Editor for the document type == 

In typical circumstances you can use the GeneralMetadata editor class which provides a generic metadata editor UI for typically used AkomaNtoso metadata. Custom metadata editors can be written for a document type if you want to provide an editor for additional metadata variables. To do this you will have to write a JPanel UI class which extends `BaseEditorDocMetadataDialog` e.g :
{{{

public class MyDocTypeMetadata extends BaseEditorDocMetadataDialog {

....
}

}}}
A generic metadata metadata model is provided by the `GeneralMetadataModel` class. You can extend the general metadata model by writing your own class either by extending GeneralMetadataModel or BaseEditorDocMetaModel.  The new class needs to be registered for the document type using the document_types.metadata_model_editor config setting (see below).

The metadata editor is registered in the DOCUMENT_TYPES settings table in the METADATA_MODEL_EDITOR column. See the next section of how to set the DOCUMENT_TYPES settings.




== Register the new Document Type ==

Launch the settings editor

Make an entry in the settings db's DOCUMENT_TYPES table, for e.g. if we were registering the bill document type, the following entry will be required :

|| DOC_TYPE || DESCRIPTION || TEMPLATE_PATH ||METADATA_MODEL_EDITOR||
|| debaterecord || debate record || workspace/templates/hansard.ott||org.bungeni.editor.metadata.editors.GeneralMetadata||
|| bill || bill document || workspace/templates/bill.ott||org.bungeni.editor.metadata.editors.BillMetadata||

The DOC_TYPE column records the document type identifier used by the system.
The TEMPLATE_PATH points to the document template for the document type.
The METADATA_MODEL_EDITOR sets the metadata model editor for the document type (in the above example, the 'debaterecord' document type is set to use the 


== Registering Panels for the document type == 

In the settings editor you also need to register available panels for the document type :

There are various panels provided for editing document metadata, viewing section metadata adding editor notes to the document etc.

The example below registers the document metadata panel and the document notes panel for the 'judgement' document type.

||DOCTYPE || PANEL_TYPE || PANEL_CLASS || PANEL_LOAD_ORDER || PANEL_TITLE || PANEL_DESC || STATE ||
||judgement||tabbed||org.bungeni.editor.panels.loadable.documentMetadataPanel||2||Document Metadata||Document metadata||1||
||judgement||tabbed||org.bungeni.editor.panels.loadable.documentNotesPanel||1||Document Notes||Document notes and document switcher||1||





<<<< TO DO >>>>> 