#summary Installing the Bungeni Editor Client on Ubuntu Linux.
#labels BungeniEditorClient,Phase-Deploy

= Installing the BungeniEditor Client on Ubuntu Linux =

== Introduction ==
These installation instructions were tested on Ubuntu Dapper (6.06) and the same should apply for subsequent Ubuntu releases.


== Quick Install Steps for Ubuntu == 

If you dont want to bother with reading the detailed installation instructions, the following instructions will setup a working installation 95% of the time :
 * install the sun jdk 6 : `sudo apt-get install sun-java6-jre`
 * uninstall the openoffice.org installation packaged with ubuntu
 * download install openoffice by downloading OO 3.0 from [http://downloads.openoffice.org http://downloads.openoffice.org] (look for the debian package installs).
 * launch openoffice at least once and accept the license agreement
 * unpack the editor application into its own folder
 * run the script runEditor.sh to start the application


== Quick Install steps for Windows -- 

 * download and install openoffice.org from [http://downloads.openoffice.org http://downloads.openoffice.org]
 * download and install the sun java6 jre (from [http://java.sun.com http://java.sun.com])
 * unpack the editor, and open runEditor.bat in notepad. Edit java_home and log4j_properties to appropriate paths.
 * run runEditor.bat to launch the editor.


== Prerequisites ==


===Installing the Java Runtime===

*OpenJVM / Sun Java JRE* - Ubuntu by default comes packaged with the GCJ open source JRE. The EditorClient will not work on this JRE as it requires the Swing UI libraries that come packaged with the Sun JVM / OpenJVM release. Install the Sun JRE on the Ubuntu box either through package manager or download the RPM package from [http://java.sun.com/ http://java.sun.com]. The EditorClient requires at least JRE / JDK version 1.6 + 

To install the Sun Java JRE on Ubuntu in the terminal window run the following:
{{{
sudo apt-get install sun-java6-jre
}}}

To install the full JDK 1.6 on Ubuntu (useful for running a development instance of the editor)  in the terminal window, run the following :
{{{
sudo apt-get install sun-java6-jdk
}}}

For windows, download and install the java 6 JRE using the instructions provided [http://java.sun.com/javase/6/webnotes/install/jre/install-windows.html here]

===Installing OpenOffice.org===

*OpenOffice.org 3.0* - Ubuntu comes packaged with an OpenOffice release. Unfortunately this OpenOffice installation is a repackaged installation produced by Ubuntu and it changes the folder structure of the OpenOffice installation. This change makes it incompatible with the cross platform UNO class loader used by Bungeni EditorClient. As a preliminary step, uninstall the packaged OpenOffice provided by ubuntu by uninstalling it using package manager. 
Download the OpenOffice 3.0 debian package from [http://download.openoffice.org/ http://download.openoffice.org] . Download the OpenOffice installation package _Without JRE_ and extract it a folder on your computer. 

Install the package by running the following command from the openoffice-extracted-folder/DEBS path :

{{{
sudo dpkg -i *.deb
}}}

Install the desktop integration package :

{{{
cd desktop-integration
sudo dpkg -i *.deb
}}}

On windows, download and install openoffice.org 2.4 from the [http://download.openoffice.org openoffice.org download page]

==== Setting Nautilus to appear as the default File->Open dialog ====

Launch Openoffice go to tools->options->OpenOffice.org->General 
Uncheck "Use OpenOffice dialogs in file/open dialogs"

==== Enabling TTF fonts in openoffice ====

Open a terminal window and install the core TTF fonts :
{{{
	sudo apt-get install msttcorefonts
}}}


==== Installing OpenOffice.org from a RPM package ====

_NOTE: the below steps using Alien are required only if you want to install the openoffice rpm package on ubuntu_

*Alien* - This is required to convert the RPM installer of the JRE / JDK downloaded from the Sun.com website. Install Alien by running the following command from the command line:

{{{
sudo aptitude install alien
}}}

If you did not use package manager to install the JRE or JDK you will need to convert the downloaded RPM package to a debian package with the following command:

{{{
sudo alien -d --scripts <RPM file name>
}}}

then install the debian package with :

{{{
sudo dpkg -i *.deb
}}}


== Installing BungeniEditor Client ==

1) Download the latest release of the Editor Client from:

[http://code.google.com/p/bungeni-portal/downloads/list?q=label:BungeniEditorClient  BungeniEditor client download]

Download the 2 listed files, one is a .jar installer application, the second is .oxt OpenOffice basic extension library.

2) Now launch OpenOffice. Go to Tools->Extensions, click _Add ..._, and select the BungeniLibs_revXXX.oxt file that you downloaded in step (1), and click _OK_.


3) Close OpenOffice.


4) Right click on the jar file downloaded in step (1) and in Nautilus select open with "sun java runtime 6.0" (in windows explorer double click on the jar file).

5) Follow the on-screen instructions of the installer.

6) In ubuntu : double click on _runEditor.sh_ and select _Run_ to launch the editor.
 In windows : double click on _runEditor.bat_ to launch the editor.

=== Logging and error messages === 

The editor logs error and debug messages into the log/logs.txt (path relative to the installation folder).

=== Modifying Editor settings ===

The editor settings can be modified by accesing the configuration database. The configuration database is an embedded java database accessible via the web browser.